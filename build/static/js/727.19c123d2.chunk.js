"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[727],{9727:(e,a,s)=>{s.r(a),s.d(a,{default:()=>K});var t=s(2791),l=s(5772),r=s(1087),n=s(3990),i=s(1994),c=s(9096),o=s(4520),d=s(3388),p=s(1630),x=s(1046),u=s(2506),h=s(2556),f=s(8526),m=s(9389),j=s(2279),b=s(9367),g=s(9529),Z=s(4210),N=s(2921),k=s(9214),w=s(9168),y=s(8961),C=s(8823),v=s(1635),S=s(1117),I=s(6776),P=s(6579),F=s(2390),T=s(6641),q=s(8186),z=s(184);const{Header:L,Sider:_,Content:A}=n.default,D=(e,a,s,t)=>({key:a,icon:s,children:t,label:e}),{Dragger:V}=i.default,K=()=>{const e=(0,t.useRef)(null),[a,s]=(0,t.useState)(!1),[i,K]=c.ZP.useNotification(),[R,U]=(0,t.useState)(!1),[W,H]=(0,t.useState)(!0),M=(0,P.T)(),O=(0,P.C)((e=>e.login.doth)),B={showUploadList:R,maxCount:1,accept:"image/*",name:"file",multiple:!0,action:"http://134.175.81.248:5000/upload?username=".concat(O.username,"&password=").concat(O.password),onChange(e){U(!0);const{status:a}=e.file;if("uploading"!==a&&console.log(e.file,e.fileList),"done"===a){const{response:a}=e.file;200==a.statusCode&&(ae("\u4f60\u6210\u529f\u7684\u4e0a\u4f20\u4e86\u5934\u50cf\uff0c\u5df2\u7ecf\u4e3a\u4f60\u66f4\u65b0\uff01"),M((0,F.Tf)({avatarPath:a.result.url})))}else"error"===a&&ee("".concat(e.file.name," \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"))},onDrop(e){console.log("Dropped files",e.dataTransfer.files)}},E=(0,l.s0)(),[G,J]=(0,t.useState)([{title:(0,z.jsxs)(t.Fragment,{children:[(0,z.jsx)(g.Z,{}),(0,z.jsx)("span",{children:"\u9996\u9875"})]}),href:""}]),Q=[{label:"\u4e0a\u4f20\u4e2a\u4eba\u4fe1\u606f",key:"0",icon:(0,z.jsx)(Z.Z,{}),onClick:()=>{H(!0),U(!1),$(!0)}},{label:"\u4fe1\u606f\u6709\u8bef\uff1f\u70b9\u6211\u53cd\u9988",key:"1",icon:(0,z.jsx)(N.Z,{}),onClick:()=>{H(!1),U(!1),$(!0)}},{type:"divider"},{label:"".concat(O.avatarPath?"":"\u4f60\u7684\u5934\u50cf\u8fd8\u672a\u4e0a\u4f20!"),key:"3",disabled:!0}],X=[D("\u60a3\u8005\u4fe1\u606f","\u60a3\u8005\u4fe1\u606f",(0,z.jsx)(k.Z,{})),D("\u4e0d\u826f\u60a3\u8005","\u4e0d\u826f\u60a3\u8005",(0,z.jsx)(w.Z,{})),D("\u6570\u636e\u7ba1\u7406","\u6570\u636e\u7ba1\u7406",(0,z.jsx)(y.Z,{}),[D("\u6dfb\u52a0\u4fe1\u606f","\u6dfb\u52a0\u4fe1\u606f"),D("\u533b\u9662\u7ba1\u7406","\u533b\u9662\u7ba1\u7406",null,[D("\u4e0a\u4f20\u62a5\u544a","\u4e0a\u4f20\u62a5\u544a"),D("\u67e5\u770b\u62a5\u544a","\u67e5\u770b\u62a5\u544a")])]),D((0,z.jsx)(r.rU,{to:"/chat",children:"\u53bb\u5916\u9762\u770b\u770b"}),"link",(0,z.jsx)(C.Z,{}))],[Y,$]=(0,t.useState)(!1),ee=e=>{i.open({message:"faulty!",description:e,icon:(0,z.jsx)(v.Z,{style:{color:"#108ee9"}}),placement:"topLeft"})},ae=e=>{i.open({message:"successful",description:e,icon:(0,z.jsx)(S.Z,{style:{color:"#108ee9"}}),placement:"topLeft"})};return(0,z.jsx)(o.Z,{gap:"middle",wrap:"wrap",className:"absolute w-[100%] h-[100%]",children:(0,z.jsxs)(n.default,{className:"rounded-none h-0",children:[(0,z.jsx)(_,{width:"25%",className:"text-center leading-[120px] text-{#fff} bg-white",children:(0,z.jsxs)(t.Fragment,{children:[K,(0,z.jsx)(d.Z,{className:"w-[100%] mt-[50px]",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",theme:"light",items:X,onClick:e=>{let{keyPath:a}=e;const s=[];switch(a.reverse().map((e=>{s.push({title:e,href:""})})),s.unshift({title:(0,z.jsxs)(t.Fragment,{children:[(0,z.jsx)(g.Z,{}),(0,z.jsx)("span",{children:"\u9996\u9875"})]}),href:""}),J(s),a[a.length-1]){case"\u60a3\u8005\u4fe1\u606f":E("/patient/info");break;case"\u4e0d\u826f\u60a3\u8005":E("bad/info");break;case"\u6dfb\u52a0\u4fe1\u606f":E("addition/".concat(O.hospitalName));break;case"\u4e0a\u4f20\u62a5\u544a":E("list/".concat(O.hospitalName));break;case"\u67e5\u770b\u62a5\u544a":E("look/".concat(O.hospitalName))}}})]})}),(0,z.jsxs)(n.default,{children:[(0,z.jsxs)(L,{className:"text-center text-[#fff] h-[64px] ps-[48px] pe-[48px] leading-[64px] bg-[#ffffff] relative",children:[(0,z.jsx)(p.Z,{className:"absolute left-[20px] mt-[15px] text-[14px]",separator:">",items:G}),(0,z.jsxs)(x.Z,{direction:"vertical",size:16,className:"absolute right-[20px] mt-[15px] text-[14px]",children:[(0,z.jsx)(u.Z,{title:(0,z.jsx)("span",{className:"text-neutral-600 ",children:W?"\u4e0a\u4f20\u4f60\u7684\u5934\u50cf":"\u5411\u7ba1\u7406\u5458\u53cd\u9988\u9519\u8bef\u4fe1\u606f"}),open:Y,onCancel:()=>$(!1),footer:(0,z.jsx)(h.ZP,{type:"primary",loading:a,onClick:async()=>{if(1==W)$(!1);else{let a=e.current.resizableTextArea.textArea.value;if(0==a.trim().length)return ee("\u4e0d\u80fd\u8f93\u5165\u975e\u6cd5\u5b57\u7b26\u6216\u8005\u4e00\u4e9b\u65e0\u6548\u53cd\u9988");let t=await(0,q.nS)({userId:O.userId,hospitalId:O.hospitalId,errors:a});200==t.statusCode?ae("\u4f60\u7684\u53cd\u9988\u4e0a\u4f20\u6210\u529f,\u6211\u4eec\u5c06\u6700\u5feb\u901a\u77e5\u7ba1\u7406\u5458\u66f4\u6539"):ee(t.result.error),s(!0),await new Promise((e=>setTimeout((()=>{s(!1),$(!1),e(null)}),1e3)))}},children:W?"\u5173\u95ed":"\u63d0\u4ea4"}),children:W?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(f.Z,{disabled:!0,name:"wrap",labelCol:{flex:"110px"},labelAlign:"left",labelWrap:!0,wrapperCol:{flex:1},colon:!1,style:{maxWidth:600},children:[(0,z.jsx)(f.Z.Item,{initialValue:O.author,label:"\u60a8\u7684\u540d\u5b57",name:"author",rules:[{required:!0}],children:(0,z.jsx)(m.Z,{className:"w-fit"})}),(0,z.jsx)(f.Z.Item,{initialValue:O.hospitalName,label:"\u6240\u5728\u533b\u9662",name:"hospitalName",rules:[{required:!0}],children:(0,z.jsx)(m.Z,{className:"w-fit"})}),(0,z.jsx)(f.Z.Item,{initialValue:O.depart,label:"\u6240\u5728\u79d1\u5ba4",name:"depart",rules:[{required:!0}],children:(0,z.jsx)(m.Z,{className:"w-fit"})})]}),(0,z.jsxs)(V,{...B,children:[(0,z.jsx)("p",{className:"ant-upload-drag-icon",children:(0,z.jsx)(I.Z,{})}),(0,z.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u4e0a\u4f20\u5934\u50cf\u4fe1\u606f"}),(0,z.jsx)("p",{className:"ant-upload-hint",children:"\u652f\u6301\u5404\u79cd\u56fe\u7247\u7c7b\u578b,\u5982jpg\u3001png\u7b49,\u4f46\u56fe\u7247\u5927\u5c0f\u4e0d\u5b9c\u592a\u5927,\u5c0f\u4e8e5M\u6700\u597d"})]})]}):(0,z.jsx)(t.Fragment,{children:(0,z.jsx)(T.Z,{ref:e,className:"break-all border-0  f-0  rounded-[1px] border-b border-b-purple-300 text-gray-400",placeholder:"\u8f93\u5165\u4f60\u7684\u9519\u8bef\u4fe1\u606f",autoSize:{minRows:1}})})}),(0,z.jsx)(j.Z,{menu:{items:Q},children:(0,z.jsx)(b.C,{className:"cursor-pointer mb-10",src:O.avatarPath||null,shape:"square",size:"large",icon:(0,z.jsx)(g.Z,{})})})]})]}),(0,z.jsx)(A,{className:"text-center leading-[120px] text-[#fff] bg=[#ffffff] flex-shrink-0",children:(0,z.jsx)(l.j3,{})})]})]})})}}}]);
//# sourceMappingURL=727.19c123d2.chunk.js.map