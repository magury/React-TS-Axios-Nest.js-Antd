"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[753],{8753:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(2791),r=a(9096),l=a(952),n=a(1082),i=a(7917),u=a(9389),c=a(3887),d=a(2556),o=a(8186),p=a(5772),h=a(6579),m=a(1730),x=a(732),g=a(184);const f=e=>{const[t,a]=r.ZP.useNotification(),n=(0,h.C)((e=>e.login.doth)),i=(0,s.useRef)(null),p=(0,s.useRef)(null),f=(0,s.useRef)(null),y=(0,s.useRef)(null),j=(0,s.useRef)(null),v=(0,s.useRef)(null),[Z,k]=(0,s.useState)(3);return(0,g.jsxs)(s.Fragment,{children:[a,(0,g.jsx)(u.Z,{defaultValue:"csc0001",ref:i,placeholder:"\u8eab\u4efd\u8bc1\u53f7",style:{width:"200px",marginRight:"30px"}}),(0,g.jsx)(u.Z,{defaultValue:"\u79e6\u81b6\u9ac7",ref:p,placeholder:"\u60a3\u8005\u540d\u79f0",style:{width:"100px",marginRight:"30px"}}),(0,g.jsx)(u.Z,{defaultValue:"\u611f\u5192 \u6d41\u9f3b\u6d95\uff0c\u54b3\u55fd",ref:f,placeholder:"\u4e3b\u8981\u75c5\u60c5",style:{width:"200px",marginRight:"30px"}}),(0,g.jsx)(u.Z,{defaultValue:"\u6211\u4e0d\u77e5\u9053\u554a",ref:y,placeholder:"\u5904\u65b9\u836f",style:{width:"200px",marginRight:"30px"}}),(0,g.jsx)(u.Z,{defaultValue:"",ref:j,placeholder:"\u4e0d\u826f\u4fe1\u606f",style:{width:"200px",marginRight:"30px"}}),(0,g.jsxs)("div",{style:{marginTop:-50},children:[(0,g.jsx)(l.Z,{color:"success",children:"\u8f93\u5165\u5c31\u8bca\u6b21\u6570"}),(0,g.jsx)(c.Z,{ref:v,min:1,max:10,value:Z,style:{marginRight:"30px"},onChange:e=>k(e)}),";",(0,g.jsx)(d.ZP,{onClick:async()=>{const a=[],s=i.current.input.value.trim();""==s&&a.push("\u8eab\u4efd\u8bc1\u53f7");const r=p.current.input.value.trim();""==r&&a.push("\u60a3\u8005\u59d3\u540d");const l=f.current.input.value.trim();""==l&&a.push("\u4e3b\u8981\u75c5\u60c5");const u=y.current.input.value.trim();""==u&&a.push("\u5904\u65b9\u836f"),0==Z&&a.push("\u5c31\u8bca\u6b21\u6570");const c=j.current.input.value.trim();if(a.length>0)return t.open({message:"\u8f93\u5165\u9519\u8bef\uff01\uff01".concat(a.join("\u3001"),"\u4e0d\u80fd\u4e3a\u7a7a")});const{hospitalId:d,depart:h,hospitalName:m,hospitalLevel:x,province:g,hospitalAddress:v}=n,k={customerId:s,customer:r,tags:l,prescriptionDrug:u,cause:c,times:Z,hospitalId:d,depart:h,hospitalName:m,hospitalLevel:x,province:g,hospitalAddress:v},R=await(0,o.Y3)(k);200==R.statusCode&&(t.open({message:"success"}),e.getList(R))},type:"primary",style:{marginRight:"30px"},icon:(0,g.jsx)(m.Z,{}),children:"\u6dfb\u52a0\u4fe1\u606f"}),(0,g.jsx)(d.ZP,{onClick:()=>{k(0),i.current.input.value=p.current.input.value=f.current.input.value=y.current.input.value=null},type:"dashed",icon:(0,g.jsx)(x.Z,{}),children:"\u91cd\u65b0\u8f93\u5165"})]})]})},y=()=>{const e=(0,p.f_)(),[t,a]=r.ZP.useNotification(),[u,c]=(0,s.useState)(e),d=[{title:"\u5e8f\u53f7",dataIndex:"id",key:"id"},{title:"\u60a3\u8005\u59d3\u540d",dataIndex:"customer",key:"customer"},{title:"\u533b\u9662\u540d\u79f0",dataIndex:"hospitalName",key:"hospitalName"},{title:"\u79d1\u5ba4",dataIndex:"depart",key:"depart"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdDate",key:"createdDate"},{title:"\u75c5\u60c5",key:"tags",dataIndex:"tags",render:(e,t)=>{let{tags:a}=t;return(0,g.jsx)(g.Fragment,{children:a.map((e=>{let t=e.length>5?"geekblue":"green";return"loser"===e&&(t="volcano"),(0,g.jsxs)(l.Z,{color:t,children:[e.toUpperCase()," "]},e)}))})}},{title:"operation",dataIndex:"operation",render:(e,a)=>u.length>=1?(0,g.jsx)(n.Z,{title:"Sure to delete?",onConfirm:()=>{(async e=>{const a=u.filter((t=>t.uuid!=e.uuid));c(a),200==(await(0,o.h8)({uuid:e.uuid})).statusCode&&t.open({message:"\u5220\u9664\u6210\u529f"})})(a)},children:(0,g.jsx)("a",{style:{color:"#0056b3"},children:"Delete"})}):null}];return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(f,{getList:e=>{let{result:t}=e;const a=[];t.map(((e,t)=>{const s=JSON.parse(e.tags);a.push({key:e.customerId,id:e.customerId,customer:e.customer,hospitalName:e.hospitalName,depart:e.depart,createdDate:e.createdDate,tags:s,uuid:e.uuid})})),c(a)}}),a,(0,g.jsx)(i.Z,{pagination:!1,columns:d,dataSource:u,style:{minHeight:"500px"}})]})}}}]);
//# sourceMappingURL=753.eba39eb5.chunk.js.map